import"../../../modulepreload-polyfill-B5Qt9EMX.js";import{a as l,c as o,b as L,p as t,g as S,q as y,f as P,v as d,e as R,u as F,W as U}from"../../../builtins-C5GxhwDd.js";import{W as j,a as H}from"../../../frame-comparison-CBkPASci.js";import{s as G}from"../../../sampler2D-DSRZ_QT6.js";import{t as x}from"../../../texture-D0-A-o9X.js";import{r as k}from"../../../return-DhHkPme9.js";import{m as J}from"../../../mix-vZRoDtYO.js";const K=l("position",o()),i=L("main",()=>{t("highp","float"),t("highp","int"),S.assign(K)}),N=o(y(0)),Q=o(y(1)),h=P("main",()=>{t("highp","float"),t("highp","int"),N.assign(o(1,0,0,1)),Q.assign(o(0,0,1,1))}),X=l("position",d()),Y=l("textureCoordinates",d()),n=R("v_st",d()),c=L("main",()=>{t("highp","float"),t("highp","int"),n.assign(Y),S.assign(o(X,0,1))}),Z=G(F("color1Map")),$=G(F("color2Map")),v=P("main",()=>{t("highp","float"),t("highp","int");const e=x(Z,n),r=x($,n);k(J(e,r,n.x))});function b(e){const r=window.devicePixelRatio||1;e.width=e.clientWidth*r,e.height=e.clientHeight*r}document.addEventListener("DOMContentLoaded",async()=>{const e=i.toGLSL(2),r=h.toGLSL(2),M=i.toWGSL({convertDepth:!0}),V=h.toWGSL(i),W=c.toGLSL(2),B=v.toGLSL(2),_=c.toWGSL(),C=v.toWGSL(c),s=document.getElementById("webgpu");b(s);const m=await new j({canvasId:"webgpu"}).init(),g=document.getElementById("webgl");b(g);const p=new U({canvasId:"webgl",webGLcontextId:"webgl2"}),a={x:s.width,y:s.height},A={vertex:{glsl:e,wgsl:M},fragment:{glsl:r,wgsl:V},primitive:{topology:"triangle-list"}},D={vertex:{glsl:W,wgsl:_},fragment:{glsl:B,wgsl:C},primitive:{topology:"triangle-list"}},E=new Float32Array([-.5,-.5,-1,.5,-.5,-1,0,.5,1]),I=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),q=new Float32Array([0,0,1,0,1,1,1,1,0,1,0,0]),z={position:{data:E,format:"float32x3"}},O={position:{data:I,format:"float32x2"},textureCoordinates:{data:q,format:"float32x2"}},w={descriptor:{format:"rgba8unorm",size:[a.x,a.y]}},T={addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",minFilter:"nearest",magFilter:"nearest"},f={descriptor:{format:"rgba8unorm",size:[a.x,a.y]}},u={commandEncoders:[{passEncoders:[{descriptor:{colorAttachments:[{view:{texture:w,baseMipLevel:0}},{view:{texture:f,baseMipLevel:0}}]},renderPassObjects:[{pipeline:A,vertices:z,draw:{__type__:"DrawVertex",vertexCount:3}}]},{descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[{pipeline:D,bindingResources:{color1Map:{texture:w,sampler:T},color2Map:{texture:f,sampler:{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",minFilter:"nearest",magFilter:"nearest"}}},vertices:O,draw:{__type__:"DrawVertex",vertexCount:6}}]}]}]};p.submit(u),m.submit(u),H(p,m,g,s,0)});
