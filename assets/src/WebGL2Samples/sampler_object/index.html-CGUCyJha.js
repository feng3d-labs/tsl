import"../../../modulepreload-polyfill-B5Qt9EMX.js";import{a as b,v as n,u as l,e as _,b as I,p as o,g as S,c as h,q as A,f as E,W as P}from"../../../builtins-C5GxhwDd.js";import{W as V,a as B}from"../../../frame-comparison-CBkPASci.js";import{s as C}from"../../../sampler2D-DSRZ_QT6.js";import{t as f}from"../../../texture-D0-A-o9X.js";import{i as O}from"../../../if_-brTBmB0z.js";import{m as R}from"../../../mat4-Pkjqt0vg.js";const U=b("position",n(),0),z=b("textureCoordinates",n(),4),j=l("mvp",R()),s=_("v_st",n()),r=I("main",()=>{o("highp","float"),o("highp","int"),s.assign(z),S.assign(j.multiply(h(U,0,1)))}),q=C(l("materialDiffuse0")),H=C(l("materialDiffuse1")),v=h(A(0,"color")),w=E("main",()=>{o("highp","float"),o("highp","int"),O(s.y.divide(s.x).lessThan(1),()=>{v.assign(f(q,s))}).else(()=>{v.assign(f(H,s).multiply(.77))})});function T(e,t){const a=new Image;return a.onload=function(){t(a)},a.src=e,a}function x(e){const t=window.devicePixelRatio||1;e.width=e.clientWidth*t,e.height=e.clientHeight*t}document.addEventListener("DOMContentLoaded",async()=>{const e=r.toGLSL(2),t=w.toGLSL(2),a=r.toWGSL(),y=w.toWGSL(r),m=document.getElementById("webgpu");x(m);const d=await new V({canvasId:"webgpu"}).init(),c=document.getElementById("webgl");x(c);const p=new P({canvasId:"webgl",webGLcontextId:"webgl2"}),M=new Float32Array([-1,-1,1,-1,1,1,1,1,-1,1,-1,-1]),F=new Float32Array([0,1,1,1,1,0,1,0,0,0,0,1]),L={position:{data:M,format:"float32x2"},textureCoordinates:{data:F,format:"float32x2"}},W={minFilter:"nearest",magFilter:"nearest",mipmapFilter:"nearest",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",lodMinClamp:-1e3,lodMaxClamp:1e3},D={minFilter:"linear",magFilter:"linear",mipmapFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",lodMinClamp:-1e3,lodMaxClamp:1e3};T("./images/Di-3d.png",i=>{const g={descriptor:{size:[i.width,i.height],format:"rgba8unorm",generateMipmap:!0},sources:[{image:i,mipLevel:0}]},G=new Float32Array([.8,0,0,0,0,.8,0,0,0,0,.8,0,0,0,0,1]),u={commandEncoders:[{passEncoders:[{descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}]},renderPassObjects:[{pipeline:{vertex:{glsl:e,wgsl:a},fragment:{glsl:t,wgsl:y,targets:[{blend:{}}]},primitive:{topology:"triangle-list"}},vertices:L,bindingResources:{mvp:{value:G},materialDiffuse0:{texture:g,sampler:W},materialDiffuse1:{texture:g,sampler:D}},draw:{__type__:"DrawVertex",vertexCount:6,instanceCount:1}}]}]}]};p.submit(u),d.submit(u),B(p,d,c,m,0)})});
