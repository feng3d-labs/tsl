import"../../../modulepreload-polyfill-B5Qt9EMX.js";import{a as v,v as b,u as g,b as f,c as u,g as M,f as V,i as P,W as L}from"../../../builtins-C5GxhwDd.js";import{W,a as G}from"../../../frame-comparison-CBkPASci.js";import{l as S}from"../../../let-Czo32qSi.js";import{m as w}from"../../../mat4-Pkjqt0vg.js";import{c as d,p as y,t as C}from"../../../mat4-Lq7FX_53.js";import"../../../wgslKeywords-TYZDccpG.js";import"../../../common-C8IKy_GC.js";const _=v("aVertexPosition",b()),j=g("uModelViewMatrix",w()),I=g("uProjectionMatrix",w()),m=f("main",()=>{const e=S("position",u(_,0,1));M.assign(I.multiply(j).multiply(e))}),p=V("main",()=>{P.assign(u(1,0,1,1))});document.addEventListener("DOMContentLoaded",async()=>{const e=m.toGLSL(),r=p.toGLSL(),s=m.toWGSL(),n=p.toWGSL(),o=window.devicePixelRatio||1,t=document.getElementById("webgpu");t.width=t.clientWidth*o,t.height=t.clientHeight*o;const i=await new W({canvasId:"webgpu"}).init(),a=document.getElementById("webgl");a.width=a.clientWidth*o,a.height=a.clientHeight*o;const c=new L({canvasId:"webgl",webGLcontextId:"webgl2"}),{projectionMatrix:x,modelViewMatrix:h}=O(t),l={commandEncoders:[{passEncoders:[{descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}],depthStencilAttachment:{depthClearValue:1,depthLoadOp:"clear",depthStoreOp:"store"}},renderPassObjects:[{pipeline:{vertex:{glsl:e,wgsl:s},fragment:{glsl:r,wgsl:n},primitive:{topology:"triangle-strip"},depthStencil:{depthCompare:"less-equal"}},vertices:{aVertexPosition:{format:"float32x2",data:new Float32Array([1,1,-1,1,1,-1,-1,-1])}},draw:{__type__:"DrawVertex",firstVertex:0,vertexCount:4},bindingResources:{uProjectionMatrix:{value:x},uModelViewMatrix:{value:h}}}]}]}]};i.submit(l),c.submit(l),G(c,i,a,t,0)});function O(e){const r=45*Math.PI/180,s=e.clientWidth/e.clientHeight,n=.1,o=100,t=d();y(t,r,s,n,o);const i=d();return C(i,i,[-0,0,-6]),{projectionMatrix:t,modelViewMatrix:i}}
