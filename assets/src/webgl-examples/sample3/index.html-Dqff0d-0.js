import"../../../modulepreload-polyfill-B5Qt9EMX.js";import{a as u,v as b,c as l,u as w,e as V,b as M,g as P,f as C,W as L}from"../../../builtins-C5GxhwDd.js";import{W,a as y}from"../../../frame-comparison-CBkPASci.js";import{v as G}from"../../../var-BrV_KNjZ.js";import{r as S}from"../../../return-DhHkPme9.js";import{m as x}from"../../../mat4-Pkjqt0vg.js";import{c as p,p as _,t as j}from"../../../mat4-Lq7FX_53.js";import"../../../wgslKeywords-TYZDccpG.js";import"../../../common-C8IKy_GC.js";const I=u("aVertexPosition",b()),E=u("aVertexColor",l()),F=w("uModelViewMatrix",x()),O=w("uProjectionMatrix",x()),v=V("vColor",l()),c=M("main",()=>{const e=G("position",l(I,0,1));P.assign(O.multiply(F).multiply(e)),v.assign(E)}),g=C("main",()=>{S(v)});document.addEventListener("DOMContentLoaded",async()=>{const e=c.toGLSL(),i=g.toGLSL(),n=c.toWGSL(),s=g.toWGSL(c),o=window.devicePixelRatio||1,t=document.getElementById("webgpu");t.width=t.clientWidth*o,t.height=t.clientHeight*o;const a=await new W({canvasId:"webgpu"}).init(),r=document.getElementById("webgl");r.width=r.clientWidth*o,r.height=r.clientHeight*o;const d=new L({canvasId:"webgl",webGLcontextId:"webgl2"}),{projectionMatrix:h,modelViewMatrix:f}=A(t),m={commandEncoders:[{passEncoders:[{descriptor:{colorAttachments:[{clearValue:[0,0,0,1],loadOp:"clear"}],depthStencilAttachment:{depthClearValue:1,depthLoadOp:"clear"}},renderPassObjects:[{pipeline:{vertex:{glsl:e,wgsl:n},fragment:{glsl:i,wgsl:s},primitive:{topology:"triangle-strip"},depthStencil:{depthCompare:"less-equal"}},vertices:{aVertexPosition:{format:"float32x2",data:new Float32Array([1,1,-1,1,1,-1,-1,-1])},aVertexColor:{format:"float32x4",data:new Float32Array([1,1,1,1,1,0,0,1,0,1,0,1,0,0,1,1])}},draw:{__type__:"DrawVertex",firstVertex:0,vertexCount:4},bindingResources:{uProjectionMatrix:{value:h},uModelViewMatrix:{value:f}}}]}]}]};a.submit(m),d.submit(m),y(d,a,r,t,0)});function A(e){const i=45*Math.PI/180,n=e.clientWidth/e.clientHeight,s=.1,o=100,t=p();_(t,i,n,s,o);const a=p();return j(a,a,[-0,0,-6]),{projectionMatrix:t,modelViewMatrix:a}}
