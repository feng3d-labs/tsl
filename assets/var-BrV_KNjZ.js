import{F as l,a2 as $,Y as f,Z as S}from"./builtins-C5GxhwDd.js";import{c as i}from"./wgslKeywords-TYZDccpG.js";function u(...o){const e=o[0];i(e);const s=o[1];let t;if(typeof s=="number"){const n=new l(s);t=new l,t.toGLSL=()=>`${e}`,t.toWGSL=()=>`${e}`,t.dependencies=[n],c(e,t,n,!1)}else if(typeof s=="function")t=s(),t instanceof $?t._setVarName(e):(t.toGLSL=()=>`${e}`,t.toWGSL=()=>`${e}`),t.dependencies=[],c(e,t,t,!0);else{const n=s;if(n instanceof $)t=n,t._setVarName(e);else{const a=n.constructor;t=new a,t.toGLSL=()=>`${e}`,t.toWGSL=()=>`${e}`,t.dependencies=[n]}c(e,t,n,!1)}return t}function c(o,e,s,t){const n=f();if(n){let a;if(s instanceof $){const r=s.length;a=t?{toGLSL:()=>`${s.glslType} ${o}[${r}];`,toWGSL:()=>`var ${o}: array<${s.wgslType}, ${r}>;`}:{toGLSL:()=>`${s.glslType} ${o}[${r}];`,toWGSL:()=>`var ${o}: array<${s.wgslType}, ${r}>;`}}else a=t?{toGLSL:()=>`${s.glslType} ${o};`,toWGSL:()=>`var ${o}: ${s.wgslType};`}:{toGLSL:()=>`${s.glslType} ${o} = ${s.toGLSL()};`,toWGSL:()=>`var ${o} = ${s.toWGSL()};`};const L=S();L?L.addStatement(a):n.statements.push(a),n.dependencies.push(e)}else e._isExternalVar=!0,e._varName=o,e._varExpr=s,e._isTypeOnly=t}export{u as v};
